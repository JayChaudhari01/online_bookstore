{% extends "store/base.html" %}
{% load static %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/book_list/style.css' %}">
{% endblock %}

{% block content %}
<div class="book-collection">

    {% comment %} <!-- Page Header -->
    <div class="collection-header">
        <h1 class="collection-title">üìö Our Collection</h1>
        <p class="collection-subtitle">Discover stories that spark your imagination</p>
    </div> {% endcomment %}
     <div class="breadcrumb">
        <a href="{% url 'home' %}" class="breadcrumb-link">Home</a>
        <span class="breadcrumb-separator"></span>
        <span class="breadcrumb-current"></span>
    </div>

    <!-- Search Result Heading -->
    {% if query %}
        <h3 class="search-heading">Search results for: "{{ query }}"</h3>
    {% endif %}

    <!-- Books Section -->
    {% if books %}
        <div class="collection-grid">
            {% for book in books %}
            <a href="{% url 'book_detail' book.pk %}" class="collection-card">

                <!-- Book Image -->
                <div class="collection-cover">
                    {% if book.image %}
                        <img src="{{ book.image.url }}" alt="{{ book.title }}" class="collection-image">
                    {% else %}
                        <div class="collection-placeholder">
                            <span class="placeholder-icon">üìñ</span>
                        </div>
                    {% endif %}
                </div>

                <!-- Book Info -->
                <div class="collection-info">
                    <h3 class="collection-book-title">{{ book.title }}</h3>
                    <p class="collection-author">by {{ book.author }}</p>
                    
                    <!-- Rating Section -->
                    <div class="collection-rating">
                        <span class="collection-stars">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</span>
                        <span class="collection-rating-count">(2,345)</span>
                    </div>
                    
                    <!-- Price Section -->
                    <div class="collection-price-wrapper">
                        <span class="collection-price">‚Çπ{{ book.price }}</span>
                        <span class="collection-original-price">‚Çπ{% widthratio book.price 1 2 %}</span>
                        <span class="collection-discount-badge">50% OFF</span>
                    </div>
                </div>

            </a>
            {% endfor %}
        </div>

    {% else %}
        <!-- Empty State -->
       <div class="empty-state-container">
    <div class="empty-state-content">
        <div class="empty-state-icon">
            <svg width="120" height="120" viewBox="0 0 24 24" fill="none" stroke="#C7C7C7" stroke-width="1.5">
                <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                <polyline points="3.27 6.96 12 12.01 20.73 6.96"/>
                <line x1="12" y1="22.08" x2="12" y2="12"/>
            </svg>
        </div>
        <h3 class="empty-state-title">No results found</h3>
        <p class="empty-state-text">We couldn't find any books matching your search. Try different keywords or browse our categories.</p>
        <div class="empty-state-actions">
            <a href="{% url 'book_list' %}" class="btn-clear-filters">Clear all filters</a>
            <a href="{% url 'book_list' %}" class="btn-browse-all">Browse all books</a>
        </div>
    </div>
</div
    {% endif %}
</div>
{% endblock %}